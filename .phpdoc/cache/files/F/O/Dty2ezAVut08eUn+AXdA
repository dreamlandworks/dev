1654370968
AwuilbDvXz%3Adf89b523dd83f7bbdc8ccbf685aded06-2d0f8f515d46b1a6c32941a84579703f
s:5664:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxMjp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjJkMGY4ZjUxNWQ0NmIxYTZjMzI5NDFhODQ1Nzk3MDNmIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MjA6InRvb2xiYXJsb2FkZXIuanMucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6Nzc6InZlbmRvci9jb2RlaWduaXRlcjQvZnJhbWV3b3JrL3N5c3RlbS9EZWJ1Zy9Ub29sYmFyL1ZpZXdzL3Rvb2xiYXJsb2FkZXIuanMucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czozMzk0OiI8P3BocCBpZiAoRU5WSVJPTk1FTlQgIT09ICd0ZXN0aW5nJykgOiA/Pgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbG9hZERvYywgZmFsc2UpOwoKZnVuY3Rpb24gbG9hZERvYyh0aW1lKSB7CglpZiAoaXNOYU4odGltZSkpIHsKCQl0aW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlYnVnYmFyX2xvYWRlciIpLmdldEF0dHJpYnV0ZSgiZGF0YS10aW1lIik7CgkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RlYnVnYmFyLXRpbWUnLCB0aW1lKTsKCX0KCglsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGVidWdiYXItdGltZS1uZXcnLCB0aW1lKTsKCgl2YXIgdXJsID0gIjw/PSBydHJpbShzaXRlX3VybCgpLCAnLycpID8+IjsKCgl2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCXhodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewoJCWlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQgJiYgdGhpcy5zdGF0dXMgPT09IDIwMCkgewoJCQl2YXIgdG9vbGJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b29sYmFyQ29udGFpbmVyIik7CgkJCWlmICghdG9vbGJhcikgewoJCQkJdG9vbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJdG9vbGJhci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Rvb2xiYXJDb250YWluZXInKTsKCQkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbGJhcik7CgkJCX0KCgkJCS8vIGNvcHkgZm9yIGVhc2llciBtYW5pcHVsYXRpb24KCQkJbGV0IHJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2VUZXh0OwoKCQkJLy8gZ2V0IGNzcCBibG9ja2VkIHBhcnRzCgkJCS8vIHRoZSBzdHlsZSBibG9jayBpcyB0aGUgZmlyc3QgYW5kIHN0YXJ0cyBhdCAwCgkJCXsKCQkJCWxldCBQb3NCZWcgPSByZXNwb25zZVRleHQuaW5kZXhPZiggJz4nLCByZXNwb25zZVRleHQuaW5kZXhPZiggJzxzdHlsZScgKSApICsgMTsKCQkJCWxldCBQb3NFbmQgPSByZXNwb25zZVRleHQuaW5kZXhPZiggJzwvc3R5bGU+JywgUG9zQmVnICk7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ2RlYnVnYmFyX2R5bmFtaWNfc3R5bGUnICkuaW5uZXJIVE1MID0gcmVzcG9uc2VUZXh0LnN1YnN0ciggUG9zQmVnLCBQb3NFbmQgLSBQb3NCZWcgKTsKCQkJCXJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlVGV4dC5zdWJzdHIoIFBvc0VuZCArIDggKTsKCQkJfQoJCQkvLyB0aGUgc2NyaXB0IGJsb2NrIHN0YXJ0cyByaWdodCBhZnRlciBzdHlsZSBibG9ja3MgZW5kZWQKCQkJewoJCQkJbGV0IFBvc0JlZyA9IHJlc3BvbnNlVGV4dC5pbmRleE9mKCAnPicsIHJlc3BvbnNlVGV4dC5pbmRleE9mKCAnPHNjcmlwdCcgKSApICsgMTsKCQkJCWxldCBQb3NFbmQgPSByZXNwb25zZVRleHQuaW5kZXhPZiggJzwvc2NyaXB0PicgKTsKCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnZGVidWdiYXJfZHluYW1pY19zY3JpcHQnICkuaW5uZXJIVE1MID0gcmVzcG9uc2VUZXh0LnN1YnN0ciggUG9zQmVnLCBQb3NFbmQgLSBQb3NCZWcgKTsKCQkJCXJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlVGV4dC5zdWJzdHIoIFBvc0VuZCArIDkgKTsKCQkJfQoJCQkvLyBjaGVjayBmb3IgbGFzdCBzdHlsZSBibG9jawoJCQl7CgkJCQlsZXQgUG9zQmVnID0gcmVzcG9uc2VUZXh0LmluZGV4T2YoICc+JywgcmVzcG9uc2VUZXh0Lmxhc3RJbmRleE9mKCAnPHN0eWxlJyApICkgKyAxOwoJCQkJbGV0IFBvc0VuZCA9IHJlc3BvbnNlVGV4dC5pbmRleE9mKCAnPC9zdHlsZT4nLCBQb3NCZWcgKTsKCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnZGVidWdiYXJfZHluYW1pY19zdHlsZScgKS5pbm5lckhUTUwgKz0gcmVzcG9uc2VUZXh0LnN1YnN0ciggUG9zQmVnLCBQb3NFbmQgLSBQb3NCZWcgKTsKCQkJCXJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlVGV4dC5zdWJzdHIoIDAsIFBvc0JlZyArIDggKTsKCQkJfQoKCQkJdG9vbGJhci5pbm5lckhUTUwgPSByZXNwb25zZVRleHQ7CgkJCWlmICh0eXBlb2YgY2lEZWJ1Z0JhciA9PT0gJ29iamVjdCcpIHsKCQkJCWNpRGVidWdCYXIuaW5pdCgpOwoJCQl9CgkJfSBlbHNlIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQgJiYgdGhpcy5zdGF0dXMgPT09IDQwNCkgewoJCQljb25zb2xlLmxvZygnQ29kZUlnbml0ZXIgRGVidWdCYXI6IEZpbGUgIldSSVRFUEFUSC9kZWJ1Z2Jhci9kZWJ1Z2Jhcl8nICsgdGltZSArICciIG5vdCBmb3VuZC4nKTsKCQl9Cgl9OwoKCXhodHRwLm9wZW4oIkdFVCIsIHVybCArICI/ZGVidWdiYXJfdGltZT0iICsgdGltZSwgdHJ1ZSk7Cgl4aHR0cC5zZW5kKCk7Cn0KCi8vIFRyYWNrIGFsbCBBSkFYIHJlcXVlc3RzCmlmICh3aW5kb3cuQWN0aXZlWE9iamVjdCkgewoJdmFyIG9sZFhIUiA9IG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpOwp9IGVsc2UgewoJdmFyIG9sZFhIUiA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDsKfQoKZnVuY3Rpb24gbmV3WEhSKCkgewoJdmFyIHJlYWxYSFIgPSBuZXcgb2xkWEhSKCk7CglyZWFsWEhSLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKCQkvLyBPbmx5IHN1Y2Nlc3MgcmVzcG9uc2VzIGFuZCBVUkxzIHRoYXQgZG8gbm90IGNvbnRhaW5zICJkZWJ1Z2Jhcl90aW1lIiBhcmUgdHJhY2tlZAoJCWlmIChyZWFsWEhSLnJlYWR5U3RhdGUgPT09IDQgJiYgcmVhbFhIUi5zdGF0dXMudG9TdHJpbmcoKVswXSA9PT0gJzInICYmIHJlYWxYSFIucmVzcG9uc2VVUkwuaW5kZXhPZignZGVidWdiYXJfdGltZScpID09PSAtMSkgewoJCQlpZiAocmVhbFhIUi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5pbmRleE9mKCJEZWJ1Z2Jhci1UaW1lIikgPj0gMCkgewogICAgCQkJCXZhciBkZWJ1Z2JhclRpbWUgPSByZWFsWEhSLmdldFJlc3BvbnNlSGVhZGVyKCdEZWJ1Z2Jhci1UaW1lJyk7CgoJCQkJaWYgKGRlYnVnYmFyVGltZSkgewoJCQkJCXZhciBoMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaS1oaXN0b3J5ID4gaDInKTsKCQkJCQlpZiAoaDIpIHsKCQkJCQkJaDIuaW5uZXJIVE1MID0gJ0hpc3RvcnkgPHNtYWxsPllvdSBoYXZlIG5ldyBkZWJ1ZyBkYXRhLjwvc21hbGw+IDxidXR0b24gb25jbGljaz0ibG9hZERvYygnICsgZGVidWdiYXJUaW1lICsgJykiPlVwZGF0ZTwvYnV0dG9uPic7CgkJCQkJCXZhciBiYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbZGF0YS10YWI9ImNpLWhpc3RvcnkiXSA+IHNwYW4gPiAuYmFkZ2UnKTsKCQkJCQkJYmFkZ2UuY2xhc3NOYW1lICs9ICcgYWN0aXZlJzsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9LCBmYWxzZSk7CglyZXR1cm4gcmVhbFhIUjsKfQoKd2luZG93LlhNTEh0dHBSZXF1ZXN0ID0gbmV3WEhSOwo8P3BocCBlbmRpZjsgPz4KIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e319";