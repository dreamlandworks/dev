<?php

namespace Modules\Provider\Models;

use CodeIgniter\Model;

class ActivationModel extends Model
{

    //---------------------------------------------------SERVICE PROVIDER ACTIVATION ACTIVITY STARTS---------------------------------------------------
    //-----------------------------------------------------------***************------------------------------------------------------------    
    function add_sp_det($data)
    {

        $builder = $this->db->table('sp_det');

        if ($builder->insert($data)) {
            return 1;
        } else {
            return 0;
        }
    }
    //--------------------------------------------------------------FUNCTION ENDS-----------------------------------------------------------



    //---------------------------------------------------GET PROFESSION ID STARTS-----------------------------------------------------------
    //-----------------------------------------------------------***************------------------------------------------------------------    
    function get_profession($name)
    {
        $builder = $this->db->table('list_profession');
        $builder->where('name', $name);
        $query = $builder->get();
        $res = $query->getResultArray();

        if ($res != null) {
            return $res;
        } else {
            return null;
        }
    }
    //--------------------------------------------------------------FUNCTION ENDS-----------------------------------------------------------


    //---------------------------------------------------GET QUALIFICATION ID STARTS-----------------------------------------------------------
    //-----------------------------------------------------------***************------------------------------------------------------------    
    function get_qualification($name)
    {
        $builder = $this->db->table('sp_qual');
        $builder->where('qualification', $name);
        $query = $builder->get();
        $res = $query->getResultArray();

        if ($res != null) {
            return $res;
        } else {
            return null;
        }
    }
    //--------------------------------------------------------------FUNCTION ENDS-----------------------------------------------------------



    //-----------------------------------------------------------GET SKILLS STARTS-----------------------------------------------------------
    //-----------------------------------------------------------***************------------------------------------------------------------    
    function get_keyword_id($name)
    {
        $builder = $this->db->table('keywords');
        $builder->where('keyword', $name);
        $query = $builder->get();
        $res = $query->getResultArray();

        if ($res != null) {
            return $res;
        } else {
            return null;
        }
    }
    //--------------------------------------------------------------FUNCTION ENDS-----------------------------------------------------------

     //-----------------------------------------------------------GET EXPERIENCE STARTS-----------------------------------------------------------
    //-----------------------------------------------------------***************------------------------------------------------------------    
    function get_exp_id($name)
    {
        $builder = $this->db->table('sp_exp');
        $builder->where('exp', $name);
        $query = $builder->get();
        $res = $query->getResultArray();

        if ($res != null) {
            return $res;
        } else {
            return null;
        }
    }
    //--------------------------------------------------------------FUNCTION ENDS-----------------------------------------------------------

    
    
    
    //---------------------------------------------------ADD SKILL STARTS-----------------------------------------------------------
    //-----------------------------------------------------------***************------------------------------------------------------------    
    function add_sp_skill($id, $array)
    {
        $builder = $this->db->table('sp_skill');

        foreach ($array as $a) {
            $i = 0;
            $data[$i] = ['users_id' => $id, 'keywords_id' => $a];
            $i++;
        }
               
        if ($builder->insertBatch($data)) {
            return 1;
        } else {
            return null;
        }
    }
    //--------------------------------------------------------------FUNCTION ENDS-----------------------------------------------------------


}
